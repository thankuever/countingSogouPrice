<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>搜狗</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Satisfy&display=swap');
        body {
            background: #cefe86;
            color: #350779;
            background-image: url(http://pic.90sjimg.com/design/00/69/49/81/58f9b859bb196.png);
            background-repeat: no-repeat;
            background-size: 300px 300px;
        }
        
        .form-control {
            outline: 0;
            border-width: 0 0 2px;
            border-color: #350779;
            background: none;
        }
        
        .form-control:focus {
            background: none;
            border-width: 0 0 4px;
            border-color: WHITE;
            box-shadow: none;
        }
        
        #domains {
            outline: 1;
            border-width: 2px 2px 2px;
            background: #f3f6fd;
        }
        
        .form-label {
            font-size: 1.5rem;
            color: black;
        }
        
        #total {
            background: #350779;
            color: #cefe86;
        }
        
        h1 {
            font-family: 'Satisfy', cursive;
            font-size: 4rem;
        }
    </style>
</head>

<body>


    <div class="container ">
        <div class="row text-center mt-5">
            <h1 class="fw-bold">Sogou</h1>
        </div>
        <form onsubmit="return false">
            <div class="row justify-content-center needs-validation " novalidate>
                <div class="col-md-9 mt-5 mt-md-0">
                    <div class="row rounded mt-5 mt-md-1">
                        <div class="col-md-4">
                            <label for="com_price" class="form-label">.com</label>
                            <input type="number" class="form-control " id="com_price" value="80" required min="0" max="10000">
                            <div class="valid-feedback">
                                OK!
                            </div>
                        </div>
                        <div class="col-md-4 ">
                            <label for="net_price " class="form-label ">.net</label>
                            <input type="number " class="form-control " id="net_price" value="80" required min="0" max="10000">
                            <div class="valid-feedback">
                                OK!
                            </div>
                        </div>
                        <div class="col-md-4">
                            <label for="org_price" class="form-label">.org</label>
                            <input type="number" class="form-control " id="org_price" value="80" required min="0" max="10000">
                            <div class="valid-feedback ">
                                OK!
                            </div>
                        </div>
                        <div class="col-md-4 mt-3">
                            <label for="org_price" class="form-label">.cc</label>
                            <input type="number" class="form-control " id="cc_price" value="70" required min="0" max="10000">
                            <div class="valid-feedback ">
                                OK!
                            </div>
                        </div>
                        <div class="col-md-4 mt-3">
                            <label for="org_price" class="form-label">.tv</label>
                            <input type="number" class="form-control " id="tv_price" value="70" required min="0" max="10000">
                            <div class="valid-feedback ">
                                OK!
                            </div>
                        </div>
                        <div class="col-md-4 mt-3">
                            <label for="cn_price" class="form-label ">.cn</label>
                            <input type="number" class="form-control " id="cn_price" value="50" required min="0" max="10000">
                            <div class="valid-feedback ">
                                OK!
                            </div>
                        </div>
                        <div class="col mt-3">
                            <div class="mb-3">
                                <label for="domains" class="form-label ">域名清單
                                    <div class="btn btn-danger ms-2 " id="clear">清除</div>
                                    <button type="submit " class="btn btn-primary rounded-pilled ms-2 ">計算</button>
                                </label>
                                <textarea class="form-control " placeholder="請輸入... " id="domains" style="height: 250px " required></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="row ">
                        <div class="col-md-3 col-6 ">
                            <label for="staticEmail " class="col-sm-2 col-form-label ">.com</label>
                            <div class="col-sm-10 ">
                                <input type="text " readonly class="form-control-plaintext " id="comTotal" value="0個，共0元 ">
                            </div>
                        </div>
                        <div class="col-md-3 col-6 ">
                            <label for="staticEmail " class="col-sm-2 col-form-label ">.net</label>
                            <div class="col-sm-10 ">
                                <input type="text " readonly class="form-control-plaintext " id="netTotal" value="0個，共0元 ">
                            </div>
                        </div>
                        <div class="col-md-3 col-6 ">
                            <label for="staticEmail " class="col-sm-2 col-form-label ">.org</label>
                            <div class="col-sm-10 ">
                                <input type="text " readonly class="form-control-plaintext " id="orgTotal" value="0個，共0元 ">
                            </div>
                        </div>
                        <div class="col-md-3 col-6 ">
                            <label for="staticEmail" class="col-sm-2 col-form-label ">.cn</label>
                            <div class="col-sm-10 ">
                                <input type="text " readonly class="form-control-plaintext " id="cnTotal" value="0個，共0元 ">
                            </div>
                        </div>
                        <div class="col-md-3 col-6 ">
                            <label for="staticEmail" class="col-sm-2 col-form-label ">.cc</label>
                            <div class="col-sm-10 ">
                                <input type="text " readonly class="form-control-plaintext " id="ccTotal" value="0個，共0元 ">
                            </div>
                        </div>
                        <div class="col-md-3 col-6 ">
                            <label for="staticEmail" class="col-sm-2 col-form-label ">.tv</label>
                            <div class="col-sm-10 ">
                                <input type="text " readonly class="form-control-plaintext " id="tvTotal" value="0個，共0元 ">
                            </div>
                        </div>
                        <div class="col-md-12 text-center ">
                            <label for="staticEmail " class="col-sm-2 col-form-label"></label>
                            <h2 class="p-2" id="total">域名總共0個，共0元 </h2>

                        </div>

                    </div>
                    <div class="row justify-content-end mt-4 mb-4 ">
                        <div class="col-6 ">
                        </div>
                    </div>
                </div>
            </div>
        </form>


    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js " integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin=" anonymous " referrerpolicy="no-referrer "></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js " integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8 " crossorigin="anonymous "></script>
    <script>
        $(document).ready(function() {
            $("form").submit(function() {

                let cnPrice = parseInt($("#cn_price").val());
                let comPrice = parseInt($("#com_price").val());
                let orgPrice = parseInt($("#org_price").val());
                let netPrice = parseInt($("#net_price").val());
                let ccPrice = parseInt($("#cc_price").val());
                let tvPrice = parseInt($("#tv_price").val());

                let domains = $('#domains').val().split('\n');
                let comTotalPrice = 0;
                let netTotalPrice = 0;
                let orgTotalPrice = 0;
                let cnTotalPrice = 0;
                let ccTotalPrice = 0;
                let tvTotalPrice = 0;

                let cnCount = 0;
                let comCount = 0;
                let orgCount = 0;
                let netCount = 0;
                let ccCount = 0;
                let tvCount = 0;
                let totalCount = 0;
                let total = 0;
                //暫存
                let temp = "";
                let i;
                for (i = 0; i < domains.length; i++) {
                    //包含.cn
                    if (domains[i].indexOf(".cn") > 0) {
                        cnCount++;
                        totalCount++;
                        total += cnPrice;
                        cnTotalPrice += cnPrice;
                    } else if (domains[i].indexOf(".com") > 0) {
                        comCount++;
                        totalCount++;
                        total += comPrice;
                        comTotalPrice += comPrice;
                    } else if (domains[i].indexOf(".net") > 0) {
                        netCount++;
                        totalCount++;
                        total += netPrice;
                        netTotalPrice += netPrice;
                    } else if (domains[i].indexOf(".org") > 0) {
                        orgCount++;
                        totalCount++;
                        total += orgPrice;
                        orgTotalPrice += orgPrice;
                    } else if (domains[i].indexOf(".cc") > 0) {
                        ccCount++;
                        totalCount++;
                        total += ccPrice;
                        ccTotalPrice += ccPrice;

                    } else if (domains[i].indexOf(".tv") > 0) {
                        tvCount++;
                        totalCount++;
                        total += tvPrice;
                        tvTotalPrice += tvPrice;
                    }
                }

                $('#total').text("域名總共" + totalCount + "個，共" + total + "元")
                $('#comTotal').val(comCount + "個，共 " + comTotalPrice + "元");
                $('#netTotal').val(netCount + "個，共 " + netTotalPrice + "元");
                $('#orgTotal').val(orgCount + "個，共 " + orgTotalPrice + "元");
                $('#cnTotal').val(cnCount + "個，共 " + cnTotalPrice + "元");
                $('#ccTotal').val(ccCount + "個，共 " + ccTotalPrice + "元");
                $('#tvTotal').val(tvCount + "個，共 " + tvTotalPrice + "元");

            });

            $("#clear").click(function() {
                $("#domains").val('');
                $('#total').text(" $0 ");
                $('#comTotal').val("0 個，共 0 元 ");
                $('#netTotal').val("0 個，共 0 元 ");
                $('#orgTotal').val("0 個，共 0 元 ");
                $('#cnTotal').val("0 個，共 0 元 ");
                $('#ccTotal').val("0 個，共 0 元 ");
                $('#tvTotal').val("0 個，共 0 元 ");

            });
            $("#domains").blur(function() {
                let domainsText = $('#domains').val();
                let domains = $('#domains').val().split('\n');
                let i;
                for (i = 0; i < domains.length; i++) {
                    if (domains[i].indexOf(".cn") < 0 && domains[i].indexOf(".com") < 0 && domains[i].indexOf(".net") < 0 && domains[i].indexOf(".org") < 0 && domains[i].indexOf(".cc") < 0 && domains[i].indexOf(".tv") < 0) {
                        domainsText = domainsText.replace(domains[i], "");
                    }
                }
                $('#domains').val(domainsText);
            });
        });
    </script>
</body>

</html>